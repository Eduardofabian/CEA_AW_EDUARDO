version: 2

models:
  - name: fct_sales
    description: "Tabela fato de vendas consolidada (Sales Header + Detail)."
    columns:
      - name: sales_order_id
        description: "Chave primária do pedido."
        tests:
          - not_null
      - name: fk_customer
        description: "Chave estrangeira para dimensão clientes."
        tests:
          - not_null
      - name: fk_product
        description: "Chave estrangeira para dimensão produtos."
        tests:
          - not_null
      - name: gross_amount
        description: "Valor Bruto (Quantidade * Preço Unitário)."

  - name: dim_customers
    description: "Dimensão de Clientes."
    columns:
      - name: sk_customer
        description: "Chave substituta (Surrogate Key) do cliente."
        tests:
          - unique
          - not_null

  - name: dim_products
    description: "Dimensão de Produtos."
    columns:
      - name: product_sk
        description: "Chave substituta (Surrogate Key) do produto."
        tests:
          - unique
          - not_null

  - name: dim_sales_reason
    description: "Dimensão de Motivos de Venda."
    columns:
      - name: sk_sales
        description: "Chave substituta (Surrogate Key) do motivo de venda."
        tests:
          - unique
          - not_null