version: 2

sources:
  - name: ad_works
    description: "Banco de dados bruto da Adventure Works no Databricks"
    database: fea_academy 
    schema: adventure_works
    tables:
      # Sales
      - name: sales_salesorderheader
        description: "Cabeçalho dos pedidos"
        columns:
          - name: salesorderid 
            tests:
              - unique
              - not_null
      - name: sales_salesorderdetail
        description: "Detalhes dos pedidos"
        columns:
          - name: salesorderid
            tests:
              - not_null
          - name: salesorderdetailid
            tests:
              - unique
              - not_null
      - name: sales_customer
        description: "Tabela de clientes"
        columns:
          - name: customerid
            tests:
              - unique
              - not_null
      - name: sales_creditcard
        description: "Informações dos cartões de crédito"
        columns:
          - name: creditcardid
            tests:
              - unique
              - not_null
      - name: sales_salesreason
        description: "Motivos de venda"
        columns:
          - name: salesreasonid
            tests:
              - unique
              - not_null
      - name: sales_salesorderheadersalesreason
        description: "Motivo e id do pedido"
        columns:
          - name: salesorderid
            tests:
              - not_null
          - name: salesreasonid
            tests:
              - not_null
      - name: sales_store
        description: "Tabela de Lojas (Revendas)"
        columns:
          - name: businessentityid
            tests:
              - unique
              - not_null
          - name: name
            description: "Nome da Loja"
      # Person 
      - name: person_person
        description: "pessoas"
        columns:
          - name: businessentityid
            tests:
              - unique
              - not_null
      - name: person_address
        description: "Endereços"
        columns:
          - name: addressid
            tests:
              - unique
              - not_null
      - name: person_stateprovince
        description: "Estados"
        columns:
          - name: stateprovinceid
            tests:
              - unique
              - not_null
      - name: person_countryregion
        description: "Países"
        columns:
          - name: countryregioncode
      - name: person_personphone
        description: "Telefones das pessoas"
        columns:
          - name: businessentityid
          - name: phonenumber
          - name: phonenumbertypeid
      - name: humanresources_employee
        description: "Rh data"
        columns:
          - name: businessentityid
            tests:
              - unique
              - not_null
          - name: jobtitle
          - name: nationalidnumber
          - name: currentflag
      - name: person_businessentitycontact
        description: "Ligação entre uma empresa e seus contatos"
        columns:
          - name: businessentityid
            tests:
              - not_null          
          - name: personid
            tests:
              - not_null
      - name: person_businessentityaddress
        description: "Ligação entre Pessoas/Empresas e Endereços"
        columns:
          - name: businessentityid
            tests:
              - not_null
          - name: addressid
          - name: addresstypeid
      # products
      - name: production_product
        description: "produtos"
        columns:
          - name: productid
            tests:
              - unique
              - not_null
      - name: production_productcategory
        description: "Categorias"
        columns:
          - name: productcategoryid
            tests:
              - unique
              - not_null
      - name: production_productsubcategory
        description: "Subcategorias"
        columns:
          - name: productsubcategoryid
            tests:
              - unique
              - not_null
      # Inventory 
      - name: production_productinventory
        description: "Estoque de produtos"
        columns:
          - name: productid
          - name: quantity
      # Purchasing 
      - name: purchasing_productvendor
        description: "Tabela de ligação Produto-Fornecedor"
        columns:
          - name: productid
          - name: businessentityid
      - name: purchasing_vendor
        description: "Nomes dos Fornecedores"
        columns:
          - name: businessentityid
          - name: name


